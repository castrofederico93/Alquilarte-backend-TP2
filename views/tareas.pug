doctype html
html
  head
    title Lista de Tareas
    link(rel='stylesheet', href='/css/tareas.css')
    link(rel='stylesheet', href='/css/styles.css')

    
  body

    h1(style="text-align:center") Lista de Tareas

    if tareas.length
      table
        thead
          tr
            th ID
            th Título
            th Descripción
            th Estado
            th Prioridad
            th Área
            th Fecha
            th Acciones
        tbody
          each tarea in tareas
            tr(class=tarea.estado.replace(' ', '-'))
              td #{tarea._id}
              td #{tarea.titulo}
              td #{tarea.descripcion}
              td #{tarea.estado}
              td #{tarea.prioridad}
              td #{tarea.area}
              td #{tarea.fecha}
              td
                button.editar(type="button", onclick=`cargarTareaEnFormulario(${JSON.stringify(tarea)})`) Editar
                button.eliminar(type="button", onclick=`eliminarTarea('${tarea._id}')`) Eliminar
    else
      p No hay tareas para mostrar.

    div#mensaje

    hr
    h2(style="text-align:center") Crear / Editar Tarea

    form#formTarea
      input(type="hidden", name="id")
      input(type="text", name="titulo", placeholder="Título", required)
      input(type="text", name="descripcion", placeholder="Descripción", required)
      select(name="estado")
        option(value="pendiente") Pendiente
        option(value="en proceso") En proceso
        option(value="finalizada") Finalizada
      select(name="prioridad")
        option(value="alta") Alta
        option(value="media") Media
        option(value="baja") Baja
      select(name="area")
        option(value="Ventas") Ventas
        option(value="Administración") Administración
      input(type="date", name="fecha", required)
      button(type="submit") Guardar Tarea
      button.boton-cancelar(type="button", onclick="limpiarFormulario()") Cancelar

    h1(style="text-align: center") Filtros

    div.menu
      a(onclick='toggleSubmenu("submenu-estado")') Estado
      a(onclick='toggleSubmenu("submenu-prioridad")') Prioridad
      a(onclick='toggleSubmenu("submenu-area")') Área

    div.submenu#submenu-estado
      a(href='/filtros/vista?estado=pendiente') Pendiente  
      a(href='/filtros/vista?estado=en%20proceso') En proceso 
      a(href='/filtros/vista?estado=finalizada') Finalizada 

    div.submenu#submenu-prioridad
      a(href='/filtros/vista?prioridad=alta') Alta
      a(href='/filtros/vista?prioridad=media') Media 
      a(href='/filtros/vista?prioridad=baja') Baja

    div.submenu#submenu-area
      a(href='/filtros/vista?area=ventas') Ventas
      a(href='/filtros/vista?area=administración') Administración

    script(src='/js/tareas.js')